<html>
    <head>
        <meta charset="UTF-8" />
        <title>Main</title>
    </head>

    <body>
        <div id="myapp"></div>
        <script type="module" defer>
            // Import uplc-wasm-web directly from unpkg.com (using cloudflare)
            // Alternatively, you can compile it yourself from https://github.com/mpizenberg/uplc-wasm
            // and provide it directly with your static server.
            // import uplc_wasm_init, * as uplc_wasm from "https://unpkg.com/uplc-wasm-web@0.2.0/uplc_wasm.js";
            import uplc_wasm_init, * as uplc_wasm from "/pkg-web/uplc_wasm.js";
            await uplc_wasm_init();
            window.uplc_wasm = uplc_wasm;
            // Use a dynamic import to make sure window.uplc_wasm is populated first.
            // Dynamically load a JavaScript file
            function loadScript(url) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = url;
                    script.onload = resolve;
                    script.onerror = reject;
                    document.body.appendChild(script);
                });
            }
            // Load the Elm-compiled JavaScript
            await loadScript('/main.js');
            var app = Elm.Main.init({
                node: document.getElementById("myapp"),
                flags: null,
            });
            // initElmCardanoJs(app)
        </script>
    </body>
</html>
